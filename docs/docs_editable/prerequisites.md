---
layout: page
title: Pre-requisites 
tagline: What you'll need to install first
permalink: docs/docs_editable/prerequisites/
---

# Installing prerequisites for MountainLab

## About Prerequisites:

### NodeJS
NodeJS is a JavaScript runtime implementation. The JavaScript programming language (not to be confused with Java) is most well known for its use in web browsers. NodeJS makes it possible to also run JavaScript on servers and desktops. MountainLab-js is implemented in JavaScript and uses NodeJS as its runtime environment.

It is important that you install a recent version of NodeJS (it is a rapidly-evolving project). It is often not sufficient to simply use the default version installed by the operating system.

### Python/Pip
While not required for the core program, most MountainLab processor packages use Python 3. Currently (July 2018) the end-user packages are built against Python 3.6, but Python 3.5 support would be easy to add if requested.


## Setting up a dev environment with Anaconda

It is possible to install all prerequisites for developing *all* components of MountainLab using Conda. Indeed, this is the approach taken to build all these components for distribution. This approach makes it easy to 'mix and match' precompiled MountainLab conda packages and the components you are actively developing, and ensures that your software will work with the distributed versions. It provides the same isolation as a python virtualenv, but not just limited to Python packages. Conda is not just limited to Python; we also use it to provide isolated, versioned installs of NodeJS, Qt, C/C++ compilers, etc.

Follow the [end-user install instructions](../../README.md) to install Miniconda. Then create a new conda env:
```
conda create -n ml-dev
conda activate ml-dev
```
Install Python, Pip, nodejs+npm, numpy, scipy, Jupyter Notebook, and a couple dependencies that are only available from [conda-forge](https://conda-forge.org)
```
conda install 'python=3.6' pip nodejs numpy scipy notebook conda-forge::deepdish conda-forge::pybind11
```

If you plan to develop against mountainsort (C++/Qt) or qt-mountainview, or want to build against the OpenMP libraries on Linux and Mac contact Tom Davidson for additional documentation, or check out the https://github.com/flatironinstitute/mountainlab-conda repo for examples of the required dependencies.

Note that within your conda env, you can install packages from PyPI with a regular old `pip install <packagename>`. These will respect the isolation of your conda env. Conda is aware of pip-installed packages, and they will show up in the list of installed packages generated by `conda list`. You can also install javascript pacakges from (npm.io) with `npm install --global <packagename>`. (npm packages will be isolated to the conda env, and listed with `npm list --global`, but conda itself won't know anything about them).

**Warning!**: use `pip` not `pip3` inside your conda envs.

You can now install MountainLab and packages either using conda, pip, npm, or by cloning the relevant git repositories and doing a local pip/npm install as described at (./developer_install_instructions.md). 

*[TODO: create a `mountainlab-dev` metapackage to pull in these dependencies]*

## Using system-level install and virtualenv

Alternatively, you can do a more 'traditional' install, where nodejs and python are installed at the system level, and a virtualenv is used for isolation of the python environment alone.

### Installing NodeJS

On Ubuntu 16.04, use the following:
```
curl -sL https://deb.nodesource.com/setup_8.x | sudo -E bash -
sudo apt-get install nodejs
```
For more information, visit [nodejs.org](https://nodejs.org).

### Installing Python 3 and pip

Install Python 3 and pip using your linux package manager. For example, on Ubuntu 16.04, use the following:

```
sudo apt-get install python3 python3-pip
```

We highly recommend using a virtualenv (or a Conda env) to manage your python packages (see below).

### Using a python virtualenv

Virtual environments (virtualenv) provide a tidy way to manage python packages, without messing with the system installation. To create a new virtualenv:

```
pip3 install virtualenv
```
Note: you may need to use a different method for installing virtualenv. For example, on Ubuntu it could be that you need instead something like `sudo apt install virtualenv`.

```
cd ~
virtualenv -p python3 ml-env
```
To activate this virtualenv, use:

```
source ~/ml-env/bin/activate
```

You will notice the command-line prompt of the terminal you run the command in displays the name of this virtualenv (e.g. `(ml-env) user@host:~$`)

Now, while the virtualenv is active, any package installed using pip3 will be specific to this virtualenv (you can explore ~/ml-env to see where pip3 is placing the packages).

To deactivate, simply run:

```
deactivate
```

I personally put the above ```source ...``` line in my .bashrc file so that every time I open a terminal, I am in the default virtualenv. However, if you use pip to install packages without sudo then it installs them in `~/.local/lib/python3.6/site-packages` or similar so it is not really necessary to do this.
